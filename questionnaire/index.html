<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Care Home Assessment - RightCareHome</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-navy': '#1e293b',
                        'primary-blue': '#2563eb',
                        'nhs-blue': '#005EB8',
                        'caring-green': '#059669',
                        'warmth-orange': '#f59e0b',
                        'soft-coral': '#fb7185',
                        'warm-grey': '#64748b',
                        'light-cream': '#fefce8',
                        'bg-warm': '#fefce8',
                        'bg-cream': '#f9f6f2',
                        'text-dark': '#1f2937',
                        'text-muted': '#64748b',
                        'healthcare-blue': '#005EB8'
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* AGE 55+ OPTIMIZED TYPOGRAPHY */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fefce8;
            color: #1f2937;
            line-height: 1.7;
            font-size: 20px;
            font-weight: 500;
        }
        
        .primary-btn {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            font-weight: 700;
            padding: 20px 32px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.125rem;
            min-height: 60px;
            letter-spacing: 0.5px;
        }
        
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(245, 158, 11, 0.4);
        }
        
        .primary-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .secondary-btn {
            background: transparent;
            color: #059669;
            border: 3px solid #059669;
            font-weight: 700;
            padding: 20px 32px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.125rem;
            min-height: 60px;
            letter-spacing: 0.5px;
        }
        
        .secondary-btn:hover {
            background: #059669;
            color: white;
        }
        
        .question-section {
            display: none;
        }
        
        .question-section.active {
            display: block;
        }
        
        .progress-bar {
            background: #e5e7eb;
            height: 12px;
            border-radius: 6px;
            margin-bottom: 2.5rem;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #059669, #f59e0b);
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
            width: 12.5%;
        }
        
        .form-input {
            width: 100%;
            border: 3px solid #e5e7eb;
            border-radius: 12px;
            padding: 18px 20px;
            font-size: 1.125rem;
            transition: border-color 0.2s ease;
            min-height: 56px;
            line-height: 1.4;
            font-weight: 500;
        }
        
        .form-input:focus {
            border-color: #f59e0b;
            outline: none;
            box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.15);
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            padding: 20px 24px;
            border: 3px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            margin-bottom: 16px;
            transition: all 0.2s ease;
            min-height: 64px;
            font-size: 1.1rem;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .radio-option:hover, .checkbox-option:hover {
            border-color: #f59e0b;
            background: #fef7ed;
            transform: translateY(-1px);
        }
        
        .radio-option.selected, .checkbox-option.selected {
            border-color: #f59e0b;
            background: #fef7ed;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.2);
        }
        
        .radio-option input[type="radio"],
        .checkbox-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 16px;
            cursor: pointer;
        }
        
        .rating-group {
            display: flex;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .rating-btn {
            width: 52px;
            height: 52px;
            border: 3px solid #e5e7eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 700;
            background: white;
            font-size: 1.125rem;
            min-width: 52px;
        }
        
        .rating-btn:hover {
            border-color: #f59e0b;
            background: #fef7ed;
            transform: scale(1.05);
        }
        
        .rating-btn.selected {
            background: #f59e0b;
            border-color: #f59e0b;
            color: white;
            transform: scale(1.1);
        }
        
        .error-msg {
            color: #dc2626;
            font-size: 1rem;
            margin-top: 12px;
            padding: 12px 16px;
            background: #fef2f2;
            border-radius: 8px;
            border-left: 4px solid #dc2626;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .section-title {
            font-size: 2.25rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: #1f2937;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }
        
        .section-description {
            font-size: 1.25rem;
            color: #4b5563;
            margin-bottom: 40px;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .question-label {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 12px;
            display: block;
            color: #374151;
            line-height: 1.4;
            letter-spacing: 0.25px;
        }
        
        .help-text {
            font-size: 1rem;
            color: #6b7280;
            margin-top: 12px;
            line-height: 1.5;
            font-weight: 500;
        }
        
        .progress-text {
            font-size: 1.125rem;
            color: #6b7280;
            text-align: center;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
            margin-right: 12px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .success-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #059669;
            color: white;
            padding: 20px 28px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            font-weight: 700;
            font-size: 1.125rem;
        }
        
        .matrix-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            margin-bottom: 12px;
            background: #f8fafc;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            min-height: 72px;
        }
        
        .matrix-label {
            font-weight: 600;
            color: #374151;
            flex: 1;
            margin-right: 20px;
            font-size: 1.1rem;
            line-height: 1.4;
        }
        
        .matrix-buttons {
            display: flex;
            gap: 12px;
        }
        
        /* Mobile Optimizations for 55+ */
        @media (max-width: 768px) {
            body {
                font-size: 18px;
            }
            
            .section-title {
                font-size: 1.875rem;
            }
            
            .section-description {
                font-size: 1.125rem;
            }
            
            .question-label {
                font-size: 1.125rem;
            }
            
            .radio-option, .checkbox-option {
                padding: 16px 20px;
                font-size: 1rem;
                min-height: 60px;
            }
            
            .form-input {
                font-size: 18px;
                padding: 16px 18px;
                min-height: 52px;
            }
            
            .rating-group {
                gap: 8px;
                justify-content: space-between;
            }
            
            .rating-btn {
                width: 46px;
                height: 46px;
                font-size: 1rem;
                min-width: 46px;
            }
            
            .primary-btn, .secondary-btn {
                font-size: 1rem;
                padding: 18px 24px;
                min-height: 56px;
            }
            
            .question-section {
                padding: 24px 20px !important;
            }
            
            .matrix-row {
                flex-direction: column;
                align-items: stretch;
                gap: 16px;
                padding: 20px;
                min-height: 80px;
            }
            
            .matrix-label {
                margin-right: 0;
                margin-bottom: 12px;
                text-align: left;
                font-size: 1rem;
            }
            
            .matrix-buttons {
                justify-content: space-between;
                gap: 8px;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 16px;
            }
            
            .navigation-buttons .flex {
                width: 100%;
            }
            
            .navigation-buttons button {
                flex: 1;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding-left: 16px;
                padding-right: 16px;
            }
            
            .rating-btn {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
                min-width: 40px;
            }
            
            .matrix-buttons .rating-btn {
                width: 44px;
                height: 44px;
            }
            
            .radio-option, .checkbox-option {
                padding: 14px 16px;
                margin-bottom: 12px;
            }
        }

        /* Accessibility improvements for 55+ */
        :focus {
            outline: 3px solid #f59e0b;
            outline-offset: 2px;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #111827;
            font-weight: 800;
        }
        
        .space-y-8 > * + * {
            margin-top: 2rem;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="fixed top-0 w-full bg-white/95 backdrop-blur-md border-b border-gray-200 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-24">
                <div class="flex items-center">
                    <a href="/" class="text-3xl font-bold text-blue-700">RightCareHome</a>
                    <span class="text-lg text-gray-500 ml-2">.co.uk</span>
                </div>
                <div class="text-lg text-gray-500 font-semibold">
                    Professional Care Home Assessment
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-40 pb-32 min-h-screen">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 container">
            
            <!-- Questionnaire Container -->
            <div id="questionnaire-container">
                <!-- Header Section -->
                <div class="text-center mb-16">
                    <h1 class="text-5xl font-bold mb-8 text-gray-900">Professional Care Home Assessment</h1>
                    <p class="text-2xl text-gray-600 max-w-3xl mx-auto mb-6">
                        48 specialised questions for maximally precise matching - far more detailed than any free service in the UK.
                    </p>
                    <div class="bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-8 shadow-lg max-w-2xl mx-auto border border-blue-200 mb-8">
                        <div class="flex items-center justify-center space-x-8 text-lg flex-wrap gap-6">
                            <div class="flex items-center">
                                <span class="text-green-600 mr-3 text-xl">✓</span>
                                <span class="font-semibold">15-20 minutes to complete</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-green-600 mr-3 text-xl">✓</span>
                                <span class="font-semibold">Progress automatically saved</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-green-600 mr-3 text-xl">✓</span>
                                <span class="font-semibold">48-hour delivery guarantee</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-6 shadow-md max-w-2xl mx-auto border-l-4 border-orange-400">
                        <p class="text-lg font-semibold text-gray-700 mb-2">Why this assessment works so well:</p>
                        <p class="text-gray-600">Each question helps our AI understand your unique situation - from medical needs to cultural preferences - ensuring we recommend care homes that truly match your requirements.</p>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="progress-text">
                    <span>Section <span id="current-section">1</span> of 8</span>
                </div>
                <div class="progress-bar mb-6">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                
                <!-- Motivational Progress Message -->
                <div id="progress-motivation" class="text-center mb-8 p-4 rounded-lg bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200">
                    <p class="text-lg font-semibold text-blue-800">Ready to begin your personalised care home assessment</p>
                    <p class="text-gray-600 mt-2">Each answer helps our AI create more accurate recommendations just for you</p>
                </div>

                <!-- Questionnaire Form -->
                <form id="questionnaire-form" class="max-w-3xl mx-auto">
                    
                    <!-- Section 1: Contact Information -->
                    <div class="question-section active bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="1">
                        <h2 class="section-title">Contact Information</h2>
                        <p class="section-description">Essential details for personalised communication and recommendations</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label" for="contact_001">
                                    Your name and surname <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="contact_001" name="contact_001" class="form-input" 
                                       placeholder="Enter your full name" required>
                                <p class="help-text">How we should address you in your personalised recommendations report</p>
                            </div>

                            <div>
                                <label class="question-label" for="contact_002">
                                    Email address <span class="text-red-500">*</span>
                                </label>
                                <input type="email" id="contact_002" name="contact_002" class="form-input" 
                                       placeholder="example@email.com" required>
                                <p class="help-text">For delivering your comprehensive care home recommendations securely</p>
                            </div>

                            <div>
                                <label class="question-label" for="contact_003">
                                    Phone number
                                </label>
                                <input type="tel" id="contact_003" name="contact_003" class="form-input" 
                                       placeholder="+44 7___ ___-___">
                                <p class="help-text">For urgent queries or clarification if needed (optional)</p>
                            </div>

                            <div>
                                <label class="question-label">
                                    Your relationship to the person requiring care <span class="text-red-500">*</span>
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="myself" required>
                                        <span>Looking for care for myself</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="spouse" required>
                                        <span>Spouse or partner</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="parent" required>
                                        <span>Parent or grandparent</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="relative" required>
                                        <span>Other family member</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="friend" required>
                                        <span>Friend or neighbour</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="contact_004" value="professional" required>
                                        <span>Professional representative</span>
                                    </label>
                                </div>
                            </div>

                            <div id="patient-name-section" style="display: none;">
                                <label class="question-label" for="contact_005">
                                    Name of the person requiring care <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="contact_005" name="contact_005" class="form-input" 
                                       placeholder="Enter their name">
                                <p class="help-text">This helps us personalise our recommendations and communication</p>
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Location Preferences -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="2">
                        <h2 class="section-title">Location Preferences</h2>
                        <p class="section-description">Geographic and transport requirements for convenient family access</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label" for="location_001">
                                    Preferred region or town <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="location_001" name="location_001" class="form-input" 
                                       placeholder="Birmingham, Manchester, London..." required>
                                <p class="help-text">Please specify the town or region where you'd prefer the care home to be located</p>
                            </div>

                            <div>
                                <label class="question-label">
                                    Maximum distance from your preferred location
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="location_002" value="5km">
                                        <span>Up to 5 kilometres</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_002" value="10km">
                                        <span>Up to 10 kilometres</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_002" value="25km">
                                        <span>Up to 25 kilometres</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_002" value="50km">
                                        <span>Up to 50 kilometres</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_002" value="any">
                                        <span>Distance isn't a primary concern</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    How important is proximity to family and friends?
                                </label>
                                <p class="help-text mb-6">Please rate from 1 (not important at all) to 10 (absolutely essential)</p>
                                <div class="rating-group">
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="1">1</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="2">2</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="3">3</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="4">4</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="5">5</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="6">6</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="7">7</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="8">8</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="9">9</button>
                                    <button type="button" class="rating-btn" data-name="location_003" data-value="10">10</button>
                                </div>
                                <div class="flex justify-between text-lg text-gray-600 mt-4 font-semibold">
                                    <span>Not important</span>
                                    <span>Absolutely essential</span>
                                </div>
                                <input type="hidden" name="location_003">
                            </div>

                            <div>
                                <label class="question-label">
                                    Access to public transport
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="location_004" value="essential">
                                        <span>Essential requirement</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_004" value="preferred">
                                        <span>Desirable</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_004" value="not_important">
                                        <span>Not important</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="location_004" value="own_transport">
                                        <span>Have own transport arrangements</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Important facilities nearby (select all that apply)
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="hospital">
                                        <span>Hospital or GP surgery</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="pharmacy">
                                        <span>Pharmacy</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="park">
                                        <span>Park or green space</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="shops">
                                        <span>Shops and amenities</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="church">
                                        <span>Places of worship</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="library">
                                        <span>Library or cultural centres</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="location_005" value="none">
                                        <span>Not important</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Budget & Funding -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="3">
                        <h2 class="section-title">Budget & Funding</h2>
                        <p class="section-description">Financial arrangements and payment preferences</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Planned weekly budget <span class="text-red-500">*</span>
                                </label>
                                <p class="help-text mb-4">Care home fees in the UK are typically charged weekly</p>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="1000" required>
                                        <span>Up to £1,000 per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="1500" required>
                                        <span>£1,000 - £1,500 per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="2000" required>
                                        <span>£1,500 - £2,000 per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="3000" required>
                                        <span>£2,000 - £3,000 per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="unlimited" required>
                                        <span>More than £3,000 per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_001" value="unknown" required>
                                        <span>Budget not yet determined</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Funding sources (please select all that apply)
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="personal_funds">
                                        <span>Personal savings and investments</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="family_support">
                                        <span>Family financial support</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="property_sale">
                                        <span>Proceeds from property sale</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="pension">
                                        <span>State or private pension</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="local_authority">
                                        <span>Local authority funding</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="nhs_funding">
                                        <span>NHS Continuing Healthcare</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="budget_002" value="exploring">
                                        <span>Still exploring funding options</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Budget flexibility
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="budget_003" value="strict">
                                        <span>Must stay strictly within stated budget</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_003" value="moderate">
                                        <span>Could stretch budget slightly for exceptional care</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_003" value="flexible">
                                        <span>Quality of care more important than price</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="budget_003" value="value_focused">
                                        <span>Seeking best value for money</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: Care Type & Medical Needs -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="4">
                        <h2 class="section-title">Care Type & Medical Needs</h2>
                        <p class="section-description">Determining the required level of medical care</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Required types of care (select all that apply) <span class="text-red-500">*</span>
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="residential">
                                        <span>General care (help with daily living, meals)</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="nursing">
                                        <span>Medical care (nurses 24/7)</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="dementia">
                                        <span>Specialised dementia care</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="palliative">
                                        <span>Palliative care</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="respite">
                                        <span>Temporary placement</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="rehabilitation">
                                        <span>Rehabilitation services</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_001" value="unsure">
                                        <span>Not sure</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Medical conditions (select all that apply) <span class="text-red-500">*</span>
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="dementia">
                                        <span>Dementia/Alzheimer's disease</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="diabetes">
                                        <span>Diabetes</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="heart">
                                        <span>Heart conditions</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="stroke">
                                        <span>Stroke effects</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="parkinsons">
                                        <span>Parkinson's disease</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="mobility">
                                        <span>Mobility problems</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="mental_health">
                                        <span>Mental health conditions</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="cancer">
                                        <span>Cancer</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="respiratory">
                                        <span>Respiratory conditions</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_002" value="none">
                                        <span>No serious medical conditions</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label" for="care_003">
                                    Additional medical conditions or special needs
                                </label>
                                <textarea id="care_003" name="care_003" class="form-input" rows="3" 
                                          placeholder="Describe any other medical needs..."></textarea>
                            </div>

                            <div>
                                <label class="question-label">
                                    Level of mobility <span class="text-red-500">*</span>
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="mobile" required>
                                        <span>Fully mobile</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="walking_aid" required>
                                        <span>Uses walking stick/frame</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="wheelchair_part" required>
                                        <span>Partially uses wheelchair</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="wheelchair_full" required>
                                        <span>Permanently in wheelchair</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="bedridden" required>
                                        <span>Bedridden</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="care_004" value="changing" required>
                                        <span>Mobility is declining</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Level of assistance needed in daily activities
                                </label>
                                <p class="help-text mb-6">Rate the need for help from 1 (fully independent) to 5 (full assistance required)</p>
                                
                                <div class="bg-gray-50 rounded-lg p-6 space-y-6">
                                    <div class="matrix-row">
                                        <span class="matrix-label">Bathing and hygiene</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_bathing" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_bathing" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_bathing" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_bathing" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_bathing" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_bathing">
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="matrix-label">Dressing</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_dressing" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_dressing" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_dressing" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_dressing" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_dressing" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_dressing">
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="matrix-label">Eating</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_eating" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_eating" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_eating" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_eating" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_eating" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_eating">
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="matrix-label">Toilet use</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_toilet" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_toilet" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_toilet" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_toilet" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_toilet" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_toilet">
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="matrix-label">Moving around</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_mobility" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_mobility" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_mobility" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_mobility" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_mobility" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_mobility">
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="matrix-label">Taking medication</span>
                                        <div class="matrix-buttons">
                                            <button type="button" class="rating-btn" data-name="care_005_medication" data-value="1">1</button>
                                            <button type="button" class="rating-btn" data-name="care_005_medication" data-value="2">2</button>
                                            <button type="button" class="rating-btn" data-name="care_005_medication" data-value="3">3</button>
                                            <button type="button" class="rating-btn" data-name="care_005_medication" data-value="4">4</button>
                                            <button type="button" class="rating-btn" data-name="care_005_medication" data-value="5">5</button>
                                        </div>
                                        <input type="hidden" name="care_005_medication">
                                    </div>
                                </div>
                                
                                <div class="flex justify-between text-lg text-gray-600 mt-4 font-semibold">
                                    <span>1 = Independent</span>
                                    <span>3 = Moderate help</span>
                                    <span>5 = Full assistance</span>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Required special equipment
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="hoist">
                                        <span>Lifting equipment</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="special_bed">
                                        <span>Special bed/mattress</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="oxygen">
                                        <span>Oxygen therapy</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="catheter">
                                        <span>Catheter/stoma care</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="peg_feeding">
                                        <span>Tube feeding</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="monitoring">
                                        <span>Medical monitoring</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="care_006" value="none">
                                        <span>None required</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 5: Cultural & Language Preferences -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="5">
                        <h2 class="section-title">Cultural & Language Preferences</h2>
                        <p class="section-description">Language, religious and cultural needs</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Language requirements
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="culture_001" value="english_primary">
                                        <span>English - primary language</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_001" value="multilingual">
                                        <span>Bilingual care desirable</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_001" value="other_language">
                                        <span>Other language preferred</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_001" value="no_requirements">
                                        <span>No language requirements</span>
                                    </label>
                                </div>
                            </div>

                            <div id="other-language-section" style="display: none;">
                                <label class="question-label" for="culture_002">
                                    Specify preferred language
                                </label>
                                <input type="text" id="culture_002" name="culture_002" class="form-input" 
                                       placeholder="e.g., Polish, Urdu, Gujarati...">
                            </div>

                            <div>
                                <label class="question-label">
                                    Religious requirements
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="christian">
                                        <span>Christian</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="muslim">
                                        <span>Muslim</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="jewish">
                                        <span>Jewish</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="hindu">
                                        <span>Hindu</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="sikh">
                                        <span>Sikh</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="buddhist">
                                        <span>Buddhist</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="other_religion">
                                        <span>Other religion</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="secular">
                                        <span>Not religious</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="culture_003" value="no_preference">
                                        <span>No preference</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Important cultural aspects
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="dietary_laws">
                                        <span>Religious dietary requirements</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="prayer_facilities">
                                        <span>Prayer facilities</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="religious_events">
                                        <span>Religious celebrations</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="cultural_activities">
                                        <span>Cultural activities</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="traditional_food">
                                        <span>Traditional cuisine</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="cultural_sensitivity">
                                        <span>Cultural understanding</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="culture_004" value="none">
                                        <span>Not important</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 6: Comfort & Activities -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="6">
                        <h2 class="section-title">Comfort & Activities</h2>
                        <p class="section-description">Living conditions and leisure activities</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Preferred size of facility
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_001" value="small">
                                        <span>Small home (up to 30 residents)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_001" value="medium">
                                        <span>Medium home (30-60 residents)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_001" value="large">
                                        <span>Large home (over 60 residents)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_001" value="no_preference">
                                        <span>Size doesn't matter</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Accommodation preferences
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="single_ensuite">
                                        <span>Single room with en-suite</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="single_shared">
                                        <span>Single room with shared facilities</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="shared_acceptable">
                                        <span>Shared room acceptable</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="ground_floor">
                                        <span>Ground floor essential</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="garden_access">
                                        <span>Garden access important</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="quiet_area">
                                        <span>Quiet area</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_002" value="no_specific">
                                        <span>No specific requirements</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    How important is having a garden and outdoor space?
                                </label>
                                <p class="help-text mb-6">Please select a number from 1 (not important) to 10 (critically important)</p>
                                <div class="rating-group">
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="1">1</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="2">2</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="3">3</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="4">4</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="5">5</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="6">6</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="7">7</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="8">8</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="9">9</button>
                                    <button type="button" class="rating-btn" data-name="comfort_003" data-value="10">10</button>
                                </div>
                                <div class="flex justify-between text-lg text-gray-600 mt-4 font-semibold">
                                    <span>Not important</span>
                                    <span>Critically important</span>
                                </div>
                                <input type="hidden" name="comfort_003">
                            </div>

                            <div>
                                <label class="question-label">
                                    How important are social activities and entertainment?
                                </label>
                                <p class="help-text mb-6">Please select a number from 1 (not important) to 10 (critically important)</p>
                                <div class="rating-group">
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="1">1</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="2">2</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="3">3</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="4">4</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="5">5</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="6">6</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="7">7</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="8">8</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="9">9</button>
                                    <button type="button" class="rating-btn" data-name="comfort_004" data-value="10">10</button>
                                </div>
                                <div class="flex justify-between text-lg text-gray-600 mt-4 font-semibold">
                                    <span>Not important</span>
                                    <span>Critically important</span>
                                </div>
                                <input type="hidden" name="comfort_004">
                            </div>

                            <div>
                                <label class="question-label">
                                    Interests and hobbies (for organising activities)
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="reading">
                                        <span>Reading</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="music">
                                        <span>Music</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="art">
                                        <span>Arts and crafts</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="gardening">
                                        <span>Gardening</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="games">
                                        <span>Board games</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="tv_movies">
                                        <span>TV/Films</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="socialising">
                                        <span>Socialising</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="exercise">
                                        <span>Physical exercise</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="cooking">
                                        <span>Cooking</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="pets">
                                        <span>Animals</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_005" value="none">
                                        <span>Prefers quiet activities</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Attitude towards pets
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_006" value="bring_own">
                                        <span>Would like to bring own pet</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_006" value="facility_pets">
                                        <span>Enjoys facility pets</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_006" value="therapy_animals">
                                        <span>Interested in pet therapy</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_006" value="no_animals">
                                        <span>Prefers no animals</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="comfort_006" value="no_preference">
                                        <span>No preference</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Dining preferences
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="communal_dining">
                                        <span>Communal dining room</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="room_service">
                                        <span>Option to eat in room</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="flexible_times">
                                        <span>Flexible meal times</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="special_diet">
                                        <span>Special diet accommodation</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="home_cooking">
                                        <span>Home-style cooking</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="comfort_007" value="no_preference">
                                        <span>No specific preferences</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label" for="comfort_008">
                                    Dietary restrictions or special requirements
                                </label>
                                <textarea id="comfort_008" name="comfort_008" class="form-input" rows="3" 
                                          placeholder="Describe dietary requirements: diabetic diet, vegetarian, allergies..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Section 7: Family & Visiting -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="7">
                        <h2 class="section-title">Family & Visiting</h2>
                        <p class="section-description">Family visits and involvement arrangements</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Visiting arrangements
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="family_001" value="unrestricted">
                                        <span>Unrestricted visiting hours</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_001" value="extended">
                                        <span>Extended visiting hours</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_001" value="standard">
                                        <span>Standard hours acceptable</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_001" value="flexible">
                                        <span>Flexibility important</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_001" value="not_important">
                                        <span>Visits will be infrequent</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Expected frequency of visits
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="daily">
                                        <span>Daily</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="several_weekly">
                                        <span>Several times per week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="weekly">
                                        <span>Weekly</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="monthly">
                                        <span>Several times per month</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="rarely">
                                        <span>Rarely</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family_002" value="special_occasions">
                                        <span>Special occasions only</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Important facilities for visiting
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="parking">
                                        <span>Convenient parking</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="private_space">
                                        <span>Private meeting space</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="overnight_stays">
                                        <span>Overnight stays for relatives</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="meal_together">
                                        <span>Shared meal opportunities</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="outdoor_space">
                                        <span>Outdoor areas for walks</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="children_friendly">
                                        <span>Child-friendly visiting</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="family_003" value="none">
                                        <span>No specific requirements</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    How important is family involvement in care planning?
                                </label>
                                <p class="help-text mb-6">Please select a number from 1 (trust staff completely) to 10 (want active involvement)</p>
                                <div class="rating-group">
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="1">1</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="2">2</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="3">3</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="4">4</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="5">5</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="6">6</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="7">7</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="8">8</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="9">9</button>
                                    <button type="button" class="rating-btn" data-name="family_004" data-value="10">10</button>
                                </div>
                                <div class="flex justify-between text-lg text-gray-600 mt-4 font-semibold">
                                    <span>Trust staff completely</span>
                                    <span>Want active involvement</span>
                                </div>
                                <input type="hidden" name="family_004">
                            </div>
                        </div>
                    </div>

                    <!-- Section 8: Timeline & Additional Information -->
                    <div class="question-section bg-white rounded-xl p-10 shadow-lg border border-gray-200" data-section="8">
                        <h2 class="section-title">Timeline & Additional Information</h2>
                        <p class="section-description">Urgency of placement and special requirements</p>
                        
                        <div class="space-y-8">
                            <div>
                                <label class="question-label">
                                    Timeline for placement <span class="text-red-500">*</span>
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="immediate" required>
                                        <span>Urgent (within 2 weeks)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="month" required>
                                        <span>Within a month</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="three_months" required>
                                        <span>Within 3 months</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="six_months" required>
                                        <span>Within 6 months</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="planning" required>
                                        <span>Future planning (over 6 months)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_001" value="exploring" required>
                                        <span>Still exploring options</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Current living situation
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="own_home_alone">
                                        <span>Living at home alone</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="own_home_family">
                                        <span>Living at home with family</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="family_home">
                                        <span>Living in relative's home</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="assisted_living">
                                        <span>In assisted living</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="hospital">
                                        <span>In hospital</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="other_facility">
                                        <span>In another care facility</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_002" value="temporary">
                                        <span>Temporary accommodation</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Previous experience with care homes
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_003" value="first_time">
                                        <span>First time looking for care home</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_003" value="visited_before">
                                        <span>Have visited care homes before</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_003" value="negative_experience">
                                        <span>Had negative experience in the past</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_003" value="relocating">
                                        <span>Moving from another care home</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_003" value="positive_experience">
                                        <span>Family has positive experience</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Main concerns about care homes
                                </label>
                                <div class="space-y-4">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="quality_care">
                                        <span>Quality of care</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="staff_turnover">
                                        <span>Staff turnover</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="cost">
                                        <span>Cost of services</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="independence_loss">
                                        <span>Loss of independence</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="safety">
                                        <span>Safety</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="social_isolation">
                                        <span>Social isolation</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="food_quality">
                                        <span>Food quality</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="cleanliness">
                                        <span>Cleanliness and hygiene</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="medical_access">
                                        <span>Access to medical care</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="timeline_004" value="family_distance">
                                        <span>Distance from family</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label">
                                    Importance of official ratings and licences
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_005" value="critical">
                                        <span>Only high ratings acceptable</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_005" value="important">
                                        <span>Important but not critical</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_005" value="moderate">
                                        <span>Moderately important</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_005" value="personal_fit">
                                        <span>Personal fit more important than ratings</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_005" value="unknown">
                                        <span>Unfamiliar with rating system</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label" for="timeline_006">
                                    Additional information
                                </label>
                                <p class="help-text mb-4">Please share any special circumstances, requirements, or concerns that will help us find the most suitable options</p>
                                <textarea id="timeline_006" name="timeline_006" class="form-input" rows="4" 
                                          placeholder="Any additional information that will help with the selection..."></textarea>
                            </div>

                            <div>
                                <label class="question-label">
                                    Preferred method for receiving recommendations
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_007" value="email_only">
                                        <span>Email only</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_007" value="phone_discussion">
                                        <span>Phone discussion</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_007" value="in_person">
                                        <span>In-person meeting</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_007" value="combined">
                                        <span>Combined approach</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="question-label" for="timeline_008">
                                    Convenient time for contact
                                </label>
                                <div class="space-y-4">
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_008" value="morning">
                                        <span>Morning (9:00-12:00)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_008" value="afternoon">
                                        <span>Afternoon (12:00-17:00)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_008" value="evening">
                                        <span>Evening (17:00-20:00)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_008" value="anytime">
                                        <span>Any time</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="timeline_008" value="weekend">
                                        <span>Prefer weekends</span>
                                    </label>
                                </div>
                            </div>

                            <!-- System Requirements Section -->
                            <div class="mt-12 pt-8 border-t-2 border-gray-300">
                                <h3 class="text-xl font-bold mb-6 text-gray-800">Legal Requirements</h3>
                                
                                <div class="space-y-6">
                                    <div class="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-r-lg">
                                        <label class="checkbox-option bg-transparent border-none p-0 mb-0">
                                            <input type="checkbox" name="system_001" value="gdpr_consent" required class="mr-4">
                                            <span class="text-base leading-relaxed">
                                                <strong>Data Processing Consent (GDPR) <span class="text-red-500">*</span></strong><br>
                                                I consent to the processing of my personal data for the purpose of receiving care home recommendations. 
                                                I understand that my data will be processed securely and will not be shared with third parties without my consent. 
                                                I can withdraw this consent at any time by contacting us.
                                            </span>
                                        </label>
                                    </div>

                                    <div class="bg-green-50 border-l-4 border-green-400 p-6 rounded-r-lg">
                                        <label class="checkbox-option bg-transparent border-none p-0 mb-0">
                                            <input type="checkbox" name="system_002" value="terms_consent" required class="mr-4">
                                            <span class="text-base leading-relaxed">
                                                <strong>Terms of Service Agreement <span class="text-red-500">*</span></strong><br>
                                                I agree to the Terms of Service and understand that this assessment is for informational purposes only. 
                                                The recommendations provided do not constitute professional advice, and I should conduct my own due diligence 
                                                when selecting a care home.
                                            </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="navigation-buttons flex justify-between items-center mt-12 pt-8 border-t border-gray-200">
                        <button type="button" id="prev-btn" class="secondary-btn" style="display: none;">
                            ← Previous Section
                        </button>
                        
                        <div class="flex gap-6">
                            <button type="button" id="next-btn" class="primary-btn">
                                Next Section →
                            </button>
                            <button type="submit" id="submit-btn" class="primary-btn" style="display: none;">
                                Complete Assessment
                            </button>
                        </div>
                    </div>

                </form>
            </div>

        </div>
    </main>

    <script>
        class CareHomeQuestionnaire {
            constructor() {
                this.currentSection = 1;
                this.totalSections = 8;
                this.formData = {};
                this.startTime = Date.now(); // Track form start time
                this.init();
            }

            init() {
                this.bindEvents();
                this.updateProgress();
                this.loadSavedData();
                this.addAccessibilityFeatures();
                
                // Initialize sections visibility
                this.showSection(1);
            }

            addAccessibilityFeatures() {
                // Add keyboard navigation support
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && e.target.classList.contains('rating-btn')) {
                        e.target.click();
                    }
                });
            }

            bindEvents() {
                // Navigation buttons
                document.getElementById('next-btn').addEventListener('click', () => this.nextSection());
                document.getElementById('prev-btn').addEventListener('click', () => this.prevSection());
                
                // Form submission
                document.getElementById('questionnaire-form').addEventListener('submit', (e) => this.submitForm(e));
                
                // Radio and checkbox interactions
                this.setupRadioButtons();
                this.setupCheckboxes();
                this.setupRatingButtons();
                this.setupConditionalLogic();
                
                // Auto-save on input
                document.addEventListener('input', () => this.saveFormData());
            }

            setupRadioButtons() {
                document.querySelectorAll('.radio-option').forEach(option => {
                    option.addEventListener('click', () => {
                        const input = option.querySelector('input[type="radio"]');
                        if (input && !input.disabled) {
                            input.checked = true;
                            this.updateRadioSelection(input.name);
                            this.saveFormData();
                        }
                    });
                });
            }

            setupCheckboxes() {
                document.querySelectorAll('.checkbox-option').forEach(option => {
                    option.addEventListener('click', () => {
                        const input = option.querySelector('input[type="checkbox"]');
                        if (input && !input.disabled) {
                            input.checked = !input.checked;
                            this.updateCheckboxSelection(input.name);
                            this.saveFormData();
                        }
                    });
                });
            }

            setupRatingButtons() {
                document.querySelectorAll('.rating-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const name = btn.dataset.name;
                        const value = btn.dataset.value;
                        
                        // Clear previous selections
                        document.querySelectorAll(`[data-name="${name}"]`).forEach(b => {
                            b.classList.remove('selected');
                        });
                        
                        // Select current
                        btn.classList.add('selected');
                        
                        // Update hidden input
                        const hiddenInput = document.querySelector(`input[name="${name}"]`);
                        if (hiddenInput) {
                            hiddenInput.value = value;
                        }
                        
                        // Announce selection for screen readers
                        const announcement = `Selected ${value}`;
                        btn.setAttribute('aria-label', announcement);
                        
                        this.saveFormData();
                    });
                });
            }

            setupConditionalLogic() {
                // Show/hide patient name based on relationship
                const relationshipInputs = document.querySelectorAll('input[name="contact_004"]');
                const patientNameSection = document.getElementById('patient-name-section');
                const patientNameInput = document.getElementById('contact_005');

                relationshipInputs.forEach(input => {
                    input.addEventListener('change', () => {
                        if (input.value === 'myself') {
                            patientNameSection.style.display = 'none';
                            patientNameInput.removeAttribute('required');
                        } else {
                            patientNameSection.style.display = 'block';
                            patientNameInput.setAttribute('required', 'required');
                        }
                    });
                });

                // Show/hide other language field
                const languageInputs = document.querySelectorAll('input[name="culture_001"]');
                const otherLanguageSection = document.getElementById('other-language-section');

                languageInputs.forEach(input => {
                    input.addEventListener('change', () => {
                        if (input.value === 'other_language') {
                            otherLanguageSection.style.display = 'block';
                        } else {
                            otherLanguageSection.style.display = 'none';
                        }
                    });
                });
            }

            updateRadioSelection(name) {
                document.querySelectorAll(`input[name="${name}"]`).forEach(radio => {
                    const option = radio.closest('.radio-option');
                    if (option) {
                        option.classList.toggle('selected', radio.checked);
                    }
                });
            }

            updateCheckboxSelection(name) {
                document.querySelectorAll(`input[name="${name}"]`).forEach(checkbox => {
                    const option = checkbox.closest('.checkbox-option');
                    if (option) {
                        option.classList.toggle('selected', checkbox.checked);
                    }
                });
            }

            nextSection() {
                if (this.validateCurrentSection()) {
                    if (this.currentSection < this.totalSections) {
                        this.currentSection++;
                        
                        // Show 50% celebration milestone
                        if (this.currentSection === 4) {
                            this.showMilestoneMessage();
                        }
                        
                        this.showSection(this.currentSection);
                        this.updateProgress();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                }
            }
            
            showMilestoneMessage() {
                // Create celebration message
                const celebration = document.createElement('div');
                celebration.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-green-500 to-blue-500 text-white p-6 rounded-xl shadow-2xl z-50 text-center max-w-md';
                celebration.innerHTML = `
                    <div class="text-3xl mb-2">🎉</div>
                    <h3 class="text-xl font-bold mb-2">Halfway Complete!</h3>
                    <p class="text-sm">Your profile is already much more detailed than any free service. The AI is building a comprehensive picture of your needs.</p>
                `;
                
                document.body.appendChild(celebration);
                
                // Auto-remove after 4 seconds
                setTimeout(() => {
                    celebration.style.opacity = '0';
                    celebration.style.transform = 'translate(-50%, -100%) scale(0.9)';
                    celebration.style.transition = 'all 0.5s ease';
                    
                    setTimeout(() => {
                        celebration.remove();
                    }, 500);
                }, 3500);
            }

            prevSection() {
                if (this.currentSection > 1) {
                    this.currentSection--;
                    this.showSection(this.currentSection);
                    this.updateProgress();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            validateCurrentSection() {
                const currentSectionElement = document.querySelector(`[data-section="${this.currentSection}"]`);
                if (!currentSectionElement) {
                    console.error(`Section ${this.currentSection} not found`);
                    return false;
                }

                const requiredFields = currentSectionElement.querySelectorAll('[required]');
                let isValid = true;

                // Clear previous errors
                currentSectionElement.querySelectorAll('.error-msg').forEach(error => {
                    error.remove();
                });

                requiredFields.forEach(field => {
                    if (field.type === 'radio') {
                        const radioGroup = currentSectionElement.querySelectorAll(`input[name="${field.name}"]`);
                        const isChecked = Array.from(radioGroup).some(radio => radio.checked);
                        if (!isChecked) {
                            this.showError(field.closest('div'), 'Please select an option');
                            isValid = false;
                        }
                    } else if (field.type === 'checkbox') {
                        const checkboxGroup = currentSectionElement.querySelectorAll(`input[name="${field.name}"]`);
                        const isChecked = Array.from(checkboxGroup).some(checkbox => checkbox.checked);
                        if (!isChecked) {
                            this.showError(field.closest('div'), 'Please select at least one option');
                            isValid = false;
                        }
                    } else if (field.type === 'hidden') {
                        // For rating scales with hidden inputs
                        if (!field.value) {
                            const ratingContainer = field.closest('div');
                            this.showError(ratingContainer, 'Please make a selection');
                            isValid = false;
                        }
                    } else if (!field.value.trim()) {
                        this.showError(field, 'This field is required');
                        isValid = false;
                    }
                });

                return isValid;
            }

            showError(element, message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-msg';
                errorDiv.textContent = message;
                
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.parentNode.appendChild(errorDiv);
                } else {
                    element.appendChild(errorDiv);
                }
            }

            showSection(sectionNumber) {
                // Hide all sections
                document.querySelectorAll('.question-section').forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'none';
                });

                // Show current section
                const currentSection = document.querySelector(`[data-section="${sectionNumber}"]`);
                if (currentSection) {
                    currentSection.classList.add('active');
                    currentSection.style.display = 'block';
                }

                // Update navigation buttons
                this.updateNavigationButtons();
            }

            updateNavigationButtons() {
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                const submitBtn = document.getElementById('submit-btn');

                if (prevBtn) {
                    prevBtn.style.display = this.currentSection === 1 ? 'none' : 'block';
                }

                if (this.currentSection === this.totalSections) {
                    if (nextBtn) nextBtn.style.display = 'none';
                    if (submitBtn) submitBtn.style.display = 'block';
                } else {
                    if (nextBtn) nextBtn.style.display = 'block';
                    if (submitBtn) submitBtn.style.display = 'none';
                }
            }

            updateProgress() {
                const progressFill = document.getElementById('progress-fill');
                const progress = (this.currentSection / this.totalSections) * 100;
                
                if (progressFill) {
                    progressFill.style.width = `${progress}%`;
                }

                // Update section text
                const currentSectionSpan = document.getElementById('current-section');
                if (currentSectionSpan) {
                    currentSectionSpan.textContent = this.currentSection;
                }
                
                // Update motivational message
                this.updateMotivationalMessage(progress);
            }
            
            updateMotivationalMessage(progress) {
                const motivationDiv = document.getElementById('progress-motivation');
                if (!motivationDiv) return;
                
                let title, subtitle;
                
                if (this.currentSection === 1) {
                    title = "Ready to begin your personalised care home assessment";
                    subtitle = "Each answer helps our AI create more accurate recommendations just for you";
                } else if (this.currentSection === 2) {
                    title = "Excellent! Each answer makes your recommendations more personalised";
                    subtitle = "Location preferences help us find care homes in the right area for your family";
                } else if (this.currentSection === 3) {
                    title = "Brilliant progress! Budget information ensures realistic recommendations";
                    subtitle = "No hidden costs - we'll show you exactly what to expect financially";
                } else if (this.currentSection === 4) {
                    title = "Halfway there! Your profile is already far more detailed than any free service";
                    subtitle = "Medical needs are crucial - this ensures we find homes with the right expertise";
                } else if (this.currentSection === 5) {
                    title = "Outstanding! Cultural preferences make a real difference to daily comfort";
                    subtitle = "Language and religious needs often determine long-term happiness in care";
                } else if (this.currentSection === 6) {
                    title = "Nearly finished! Comfort preferences create truly personalised matches";
                    subtitle = "Activities and lifestyle choices help identify homes where you'll feel at home";
                } else if (this.currentSection === 7) {
                    title = "Almost there! Family involvement shapes your care experience significantly";
                    subtitle = "Visiting arrangements and family support are essential for peace of mind";
                } else if (this.currentSection === 8) {
                    title = "Final section! Your comprehensive profile is ready for AI analysis";
                    subtitle = "Timeline and additional details complete your unique care home requirements";
                }
                
                motivationDiv.innerHTML = `
                    <p class="text-lg font-semibold text-blue-800">${title}</p>
                    <p class="text-gray-600 mt-2">${subtitle}</p>
                `;
                
                // Update styling based on progress
                if (progress >= 50) {
                    motivationDiv.className = 'text-center mb-8 p-4 rounded-lg bg-gradient-to-r from-green-50 to-blue-50 border border-green-200';
                }
                
                if (progress >= 75) {
                    motivationDiv.className = 'text-center mb-8 p-4 rounded-lg bg-gradient-to-r from-orange-50 to-green-50 border border-orange-200';
                }
            }

            saveFormData() {
                const formData = new FormData(document.getElementById('questionnaire-form'));
                const data = Object.fromEntries(formData);
                
                // Add metadata
                data.currentSection = this.currentSection;
                data.timestamp = new Date().toISOString();
                
                // Save to localStorage with 24-hour expiry
                const saveData = {
                    ...data,
                    expiry: Date.now() + (24 * 60 * 60 * 1000)
                };
                
                localStorage.setItem('careHomeQuestionnaire', JSON.stringify(saveData));
            }

            loadSavedData() {
                const savedData = localStorage.getItem('careHomeQuestionnaire');
                if (savedData) {
                    try {
                        const data = JSON.parse(savedData);
                        
                        // Check if data hasn't expired
                        if (Date.now() < data.expiry) {
                            this.formData = data;
                            this.currentSection = data.currentSection || 1;
                            
                            // Restore form values
                            Object.entries(data).forEach(([key, value]) => {
                                if (key !== 'currentSection' && key !== 'timestamp' && key !== 'expiry') {
                                    const field = document.querySelector(`[name="${key}"]`);
                                    if (field) {
                                        if (field.type === 'radio' || field.type === 'checkbox') {
                                            const specificField = document.querySelector(`[name="${key}"][value="${value}"]`);
                                            if (specificField) {
                                                specificField.checked = true;
                                                this.updateRadioSelection(key);
                                            }
                                        } else {
                                            field.value = value;
                                        }
                                    }
                                }
                            });
                            
                            this.showSection(this.currentSection);
                            this.updateProgress();
                        } else {
                            // Data expired, remove it
                            localStorage.removeItem('careHomeQuestionnaire');
                        }
                    } catch (e) {
                        console.warn('Could not restore saved data', e);
                        localStorage.removeItem('careHomeQuestionnaire');
                    }
                }
            }

            submitForm(e) {
                e.preventDefault();
                
                if (this.validateCurrentSection()) {
                    // Collect ALL form fields (including empty ones)
                    const allFormData = this.collectAllFormData();
                    
                    // Add metadata
                    const finalData = {
                        assessment_data: allFormData,
                        meta: {
                            timestamp: new Date().toISOString(),
                            assessment_version: '1.0',
                            user_agent: navigator.userAgent,
                            screen_resolution: `${screen.width}x${screen.height}`,
                            completed_sections: this.totalSections,
                            submission_id: 'RCH-' + Date.now() + '-' + Math.floor(Math.random() * 1000),
                            form_duration_minutes: Math.round((Date.now() - (this.startTime || Date.now())) / 60000),
                            total_fields: Object.keys(allFormData).length
                        }
                    };
                    
                    // Show loading state
                    const submitBtn = document.getElementById('submit-btn');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<span class="loading-spinner"></span>Submitting...';
                    submitBtn.disabled = true;
                    
                    // Send data to API
                    this.sendToAPI(finalData).then((response) => {
                        console.log('✅ Submission successful:', response);
                        this.showThankYouPage();
                        localStorage.removeItem('careHomeQuestionnaire');
                    }).catch((error) => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                        this.showErrorMessage('Sorry, there was an error submitting your assessment. Please try again.');
                        console.error('⚠ Submission error:', error);
                    });
                }
            }

            collectAllFormData() {
                // Define all 50 expected fields with their sections
                const allFields = {
                    // Section 1: Contact Information (5 fields)
                    contact: ['contact_001', 'contact_002', 'contact_003', 'contact_004', 'contact_005'],
                    
                    // Section 2: Location Preferences (5 fields)
                    location: ['location_001', 'location_002', 'location_003', 'location_004', 'location_005'],
                    
                    // Section 3: Budget & Funding (3 fields)
                    budget: ['budget_001', 'budget_002', 'budget_003'],
                    
                    // Section 4: Care Type & Medical Needs (11 fields)
                    care: ['care_001', 'care_002', 'care_003', 'care_004', 
                           'care_005_bathing', 'care_005_dressing', 'care_005_eating', 
                           'care_005_toilet', 'care_005_mobility', 'care_005_medication', 'care_006'],
                    
                    // Section 5: Cultural & Language Preferences (4 fields)
                    culture: ['culture_001', 'culture_002', 'culture_003', 'culture_004'],
                    
                    // Section 6: Comfort & Activities (8 fields)
                    comfort: ['comfort_001', 'comfort_002', 'comfort_003', 'comfort_004',
                             'comfort_005', 'comfort_006', 'comfort_007', 'comfort_008'],
                    
                    // Section 7: Family & Visiting (4 fields)
                    family: ['family_001', 'family_002', 'family_003', 'family_004'],
                    
                    // Section 8: Timeline & Additional Information (8 fields)
                    timeline: ['timeline_001', 'timeline_002', 'timeline_003', 'timeline_004',
                              'timeline_005', 'timeline_006', 'timeline_007', 'timeline_008'],
                    
                    // System fields (2 fields)
                    system: ['system_001', 'system_002']
                };
                
                const structuredData = {};
                let totalFieldsProcessed = 0;
                let filledFields = 0;
                
                // Process each section
                Object.entries(allFields).forEach(([sectionName, fieldNames]) => {
                    structuredData[sectionName] = {};
                    
                    fieldNames.forEach(fieldName => {
                        totalFieldsProcessed++;
                        let value = null;
                        
                        // Try to find the field
                        const field = document.querySelector(`[name="${fieldName}"]`);
                        
                        if (field) {
                            if (field.type === 'radio') {
                                // For radio buttons, get the checked value
                                const checkedRadio = document.querySelector(`[name="${fieldName}"]:checked`);
                                value = checkedRadio ? checkedRadio.value : null;
                                
                            } else if (field.type === 'checkbox') {
                                // For checkboxes, get all checked values as array
                                const checkedBoxes = document.querySelectorAll(`[name="${fieldName}"]:checked`);
                                value = Array.from(checkedBoxes).map(box => box.value);
                                
                            } else if (field.type === 'hidden') {
                                // For hidden fields (rating scales)
                                value = field.value || null;
                                
                            } else {
                                // For text, email, textarea fields
                                value = field.value.trim() || null;
                            }
                        }
                        
                        // Count non-null values
                        if (value !== null && value !== '' && !(Array.isArray(value) && value.length === 0)) {
                            filledFields++;
                        }
                        
                        structuredData[sectionName][fieldName] = value;
                    });
                });
                
                // Add completion statistics
                structuredData._statistics = {
                    total_fields: totalFieldsProcessed,
                    filled_fields: filledFields,
                    completion_rate: Math.round((filledFields / totalFieldsProcessed) * 100),
                    sections_completed: this.totalSections,
                    form_duration_minutes: Math.round((Date.now() - (this.startTime || Date.now())) / 60000)
                };
                
                console.log(`📊 Data Collection Summary:`);
                console.log(`   Total Fields: ${totalFieldsProcessed}`);
                console.log(`   Filled Fields: ${filledFields}`);
                console.log(`   Completion Rate: ${structuredData._statistics.completion_rate}%`);
                console.log(`   Form Duration: ${structuredData._statistics.form_duration_minutes} minutes`);
                
                return structuredData;
            }

            async sendToAPI(data) {
                // 📊 DATA COLLECTION: Complete JSON structure ready for n8n
                console.log('🎯 ASSESSMENT SUBMISSION STARTED');
                console.log('📋 Complete Assessment Data (JSON):');
                console.log(JSON.stringify(data, null, 2));
                console.log('📈 Data size:', new Blob([JSON.stringify(data)]).size + ' bytes');
                console.log('📢 Total fields collected:', data.meta.total_fields);
                console.log('⏱️ Form completion time:', data.meta.form_duration_minutes + ' minutes');
                
                // 📄 PRODUCTION ENDPOINT (currently commented out)
                /*
                try {
                    // Replace with your actual n8n webhook URL
                    const response = await fetch('https://your-n8n-instance.com/webhook/care-home-assessment', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-API-Key': 'your-api-key-here',
                            'User-Agent': 'CareHomeQuestionnaire/1.0'
                        },
                        body: JSON.stringify(data)
                    });
                    
                    if (!response.ok) {
                        throw new Error(`API Error: ${response.status} - ${response.statusText}`);
                    }
                    
                    const result = await response.json();
                    console.log('✅ Server response:', result);
                    return result;
                    
                } catch (error) {
                    console.error('🚫 API Error:', error);
                    throw error;
                }
                */
                
                // 🧪 DEVELOPMENT SIMULATION (2-second delay + realistic response)
                console.log('⏳ Simulating server processing...');
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Simulate realistic API response
                const response = {
                    success: true,
                    assessment_id: data.meta.submission_id,
                    message: 'Assessment submitted successfully to n8n workflow',
                    timestamp: new Date().toISOString(),
                    next_steps: {
                        confirmation_email: 'Within 2 hours',
                        expert_analysis: 'Within 24 hours',
                        recommendations_delivery: 'Within 48 hours'
                    },
                    data_summary: {
                        fields_received: data.meta.total_fields,
                        required_fields_complete: true,
                        processing_status: 'queued'
                    }
                };
                
                console.log('✅ Simulated server response:', response);
                return response;
            }

            showThankYouPage() {
                console.log('🎉 Completing assessment and redirecting...');
                
                // Generate unique assessment ID
                const assessmentId = Date.now().toString().slice(-6);
                
                // Store assessment ID for potential use
                localStorage.setItem('assessmentId', assessmentId);
                
                // Redirect to thank you page with parameters
                const redirectUrl = `thank-you.html?completed=true&ref=RCH-2025-${assessmentId}`;
                
                // Add slight delay for better UX (shows loading state)
                setTimeout(() => {
                    window.location.href = redirectUrl;
                }, 1000);
                
                console.log(`✅ Redirecting to: ${redirectUrl}`);
            }

            showErrorMessage(message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'success-notification';
                errorDiv.style.background = '#dc2626';
                errorDiv.textContent = message;
                
                document.body.appendChild(errorDiv);
                
                setTimeout(() => {
                    errorDiv.remove();
                }, 5000);
            }
        }

        // Initialize questionnaire when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new CareHomeQuestionnaire();
        });
    </script>
</body>
</html>
                                    